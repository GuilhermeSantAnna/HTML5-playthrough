<html>
<head>
	<script language="javascript">
	var context;

	var rua = {
	    imagem: new Image(),
	    pos_x:0,
	    pos_y:0
	}

	var carro = {
	    imagem: new Image(),
	    pos_x:250,
	    pos_y:450
	 //   movimentar: function(e){
	   //     console.log("asdf")
    	//	if (e.keyCode == 39) self.pos_x += 5; // Direita
	    //	if (e.keyCode == 37) self.pos_x -= 5; // Esquerda
	    //}
	}

	function Initialize()
	{
		var canvas = document.getElementById("tela");

		if(canvas.getContext)
		{
			context = canvas.getContext("2d");
			rua.imagem.src = "../media/road.jpg";
			carro.imagem.src = "../media/carro.PNG"

            //window.onkeydown = carro.movimentar;

			setInterval(Run, 16.6);
		}
	}

	function Run()
	{
		Update();
		Draw();
	}

	function Update()
	{
		console.log("Updated!");
        ( rua.pos_y > rua.imagem.height  ) ? rua.pos_y = 0 : rua.pos_y += 5;

	}

	function Draw()
	{
		context.clearRect(0,0,800,600);

		context.drawImage(rua.imagem, rua.pos_x, rua.pos_y);
		context.drawImage(rua.imagem, rua.pos_x, rua.pos_y - rua.imagem.height);

		context.drawImage(carro.imagem, carro.pos_x, carro.pos_y);
	}
	</script>
</head>
<body onload="Initialize()">
	<canvas id="tela" width="500" height="500" style="background-color:#ffff00;">
		Canvas do HTML5 não suportado pelo Browser.
	</canvas>
</body>
</html>

